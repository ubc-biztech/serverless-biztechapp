- name: default responds with 200 and Yeet
  endpoint: {function: hello}
  response:
    status: 200
    body: 
      message: "Yeet!"

- name: user create returns 200
  endpoint:
    method: POST
    path: users/create
  request:
    body:
      id: 144444
      fname: test
      lname: dude
      faculty: Science
      email: test@dude.asd
  response:
    status: 200
    body:
      message: 'Created!'

- name: user create no ID returns 406
  endpoint:
    method: POST
    path: users/create
  request:
    body:
      fname: foo
      lname: bar
      email: foo
      faculty: bar
  response:
    status: 406
    body:
      message: "User ID not specified."
      data:
        fname: foo
        lname: bar
        email: foo
        faculty: bar

- name: user get no ID returns 200
  endpoint:
    method: GET
    path: users/get
  response:
    status: 200

- name: user create no ID returns 406
  endpoint:
    method: POST
    path: users/create
  request:
    body:
      fname: foo
      lname: bar
      email: foo
      faculty: bar
  response:
    status: 406
    body:
      message: "User ID not specified."
      data:
        fname: foo
        lname: bar
        email: foo
        faculty: bar

- name: user get no ID returns 406
  endpoint:
    method: GET
    path: users/get
  response:
    status: 406
    body:
      message: "User ID not specified."
      data: null

- name: user get found returns 200
  endpoint:
    method: GET
    path: users/get
  request:
    form:
      id: 144444
  response:
    status: 200
    body:
      id: 144444
      fname: test
      lname: dude
      faculty: Science

- name: user get not found returns 404
  endpoint:
    method: GET
    path: users/get
  request:
    form:
      id: 0
  response:
    status: 404
    body: "\"User not found.\""

- name: user update returns 200
  endpoint:
    method: POST
    path: users/update
  request:
    body:
      id: 144444
      fname: updateTest
      lname: dudeGotUpdated
      faculty: Sauder
      email: dev@ubcbiztech.com
  response:
    status: 200
    body: "\"Update succeeded.\""

- name: user get update info returns 200
  endpoint:
    method: GET
    path: users/get
  request:
    form:
      id: 144444
  response:
    status: 200
    body:
      id: 144444
      fname: updateTest
      lname: dudeGotUpdated
      faculty: Sauder

- name: user update no ID returns 406
  endpoint:
    method: POST
    path: users/update
  request:
    body:
      fname: badUpdateTest
      lname: dudeNotUpdated
      faculty: LFS
  response:
    status: 406
    body:
      message: "User ID not specified."

- name: user update not found returns 404
  endpoint:
    method: POST
    path: users/update
  request:
    body:
      id: -20
      fname: badUpdateTest
      lname: dudeNotUpdated
  response:
    status: 404
    body: "\"User not found.\""

- name: event count returns 200
  endpoint: {function: eventCount}
  request:
    form:
      id: bp
  response:
    status: 200

- name: event create returns 200
  endpoint:
    method: POST
    path: events/create
  request:
    body:
      id: testevent
      ename: test
      capac: 2000000
      img: yup
  response:
    status: 200
    body:
      message: 'Event Created!'

- name: event create no ID returns 406
  endpoint:
    method: POST
    path: events/create
  request:
    body:
      ename: test
      capac: 2000000
      img: yup
  response:
    status: 406
    body:
      message: 'Event ID not specified.'
      data:
        ename: test
        capac: 2000000
        img: yup

- name: event create no capac returns 406
  endpoint:
    method: POST
    path: events/create
  request:
    body:
      id: testevent
      ename: test
      img: yup
  response:
    status: 406
    body:
      message: 'capac invalid, please provide valid number.'
      data:
        id: testevent
        ename: test
        img: yup

- name: event get returns 200
  endpoint:
    method: GET
    path: events/get
  response:
    status: 200

- name: event update returns 200
  endpoint:
    method: POST
    path: events/update
  request:
    body:
      id: testevent
      ename: testUpdated
      capac: 7
      img: nope
  response:
    status: 200
    body: "\"Update succeeded.\""

- name: event update not found returns 404
  endpoint:
    method: POST
    path: events/update
  request:
    body:
      id: nonexistanttestidwoo
      ename: testUpdated
      capac: 7
      img: nope
  response:
    status: 404
    body: "\"Event not found.\""

- name: event update no ID returns 406
  endpoint:
    method: POST
    path: events/update
  request:
    body:
      ename: testUpdated
  response:
    status: 406
    body:
      message: 'Event ID not specified.'

# - name: event scan match returns 200
#   endpoint:
#     method: GET
#     path: events/scan
#   request:
#     form:
#       code: test
#   response:
#     status: 200
#     body:
#       size: 1

- name: event scan no match returns 200
  endpoint:
    method: GET
    path: events/scan
  request:
    form:
      code: -1
  response:
    status: 200
    body:
      size: 0

- name: registration create entry already exists returns 409
  endpoint:
    method: POST
    path: registrations/
  request:
    body:
      eventID: checkintestonlydonotmodify
      id: 144444
      registrationStatus: registered
  response:
    status: 409
    body:
      message: Entry with given id and eventID already exists.

- name: registration create no id returns 406
  endpoint:
    method: POST
    path: registrations/
  request:
    body:
      eventID: testevent
      registrationStatus: registered
  response:
    status: 406
    body:
      message: Registration student ID not specified.

- name: registration create no eventID returns 406
  endpoint:
    method: POST
    path: registrations/
  request:
    body:
      id: 144444
      registrationStatus: registered
  response:
    status: 406
    body:
      message: Registration event ID not specified.

- name: registration create no status returns 406
  endpoint:
    method: POST
    path: registrations/
  request:
    body:
      eventID: testevent
      id: 144444
  response:
    status: 406
    body:
      message: Status not specified.

#TODO: replace these with unit tests
# - name: registration create 'registered' with full event sets registrationStatus to waitlist
#   endpoint:
#     method: POST
#     path: registrations/
#   request:
#     body:
#       eventID: usingfortestdonotmodify
#       id: 144444
#       registrationStatus: registered
#   response:
#     status: 200
#     body:
#       message: "Update succeeded"
#       registrationStatus: "waitlist"

# - name: registration create 'checkedin' with full event sets registrationStatus to checkedin
#   endpoint:
#     method: POST
#     path: registrations/
#   request:
#     body:
#       eventID: usingfortestdonotmodify
#       id: 144444
#       registrationStatus: checkedin
#   response:
#     status: 200
#     body:
#       message: "Update succeeded"
#       registrationStatus: "checkedin"

- name: registration create event doesnt exist returns 502
  endpoint:
    method: POST
    path: registrations/
  request:
    body:
      eventID: randomNonexistantEvent
      id: 144444
      registrationStatus: registered
  response:
    status: 502

- name: registration create user doesn't exist returns 502
  endpoint:
    method: POST
    path: registrations/
  request:
    body:
      eventID: checkintestonlydonotmodify
      id: -1
      registrationStatus: registered
  response:
    status: 502

- name: registration put returns 200
  endpoint:
    method: PUT
    path: registrations/
  request:
    body:
      eventID: checkintestonlydonotmodify
      id: 144444
      registrationStatus: waitlisted
  response:
    status: 200
    body:
      message: Update succeeded
      registrationStatus: waitlisted

- name: registration put entry doesn't exist returns 409
  endpoint:
    method: PUT
    path: registrations/
  request:
    body:
      eventID: randomeventdontexit
      id: 144444
      registrationStatus: waitlisted
  response:
    status: 409
    body:
      message: Entry with given id and eventID doesn't exist.

- name: registration put 'registered' with full event sets registrationStatus to waitlist
  endpoint:
    method: PUT
    path: registrations/
  request:
    body:
      eventID: usingfortestdonotmodify
      id: 144444
      registrationStatus: registered
  response:
    status: 200
    body:
      message: Update succeeded
      registrationStatus: "waitlist"

- name: registration get id returns 200
  endpoint:
    method: GET
    path: registrations/
  request:
    form:
      id: 292929
  response:
    status: 200
    body:
      size: 2

- name: registration get id no match returns 404
  endpoint:
    method: GET
    path: registrations/
  request:
    form:
      id: -1
  response:
    status: 404
    body:
      message: No entries found.

- name: registration get no id no eventID returns 406
  endpoint:
    method: GET
    path: registrations/
  request:
    form:
  response:
    status: 406
    body:
      message: User and/or Event ID not specified.

- name: registration get eventID returns 200
  endpoint:
    method: GET
    path: registrations/
  request:
    form:
      eventID: doNOTmodifyentry
  response:
    status: 200
    body:
      size: 2

- name: registration get eventID no match returns 404
  endpoint:
    method: GET
    path: registrations/
  request:
    form:
      eventID: nonexistanttestidwoo
  response:
    status: 404
    body:
      message: No entries found.

- name: registration with id and eventID returns 200
  endpoint:
    method: GET
    path: registrations/
  request:
    form:
      id: 144444
      eventID: usingfortestdonotmodify
  response:
    status: 200
    body:
      size: 1

- name: event getUsers returns 200
  endpoint:
    method: GET
    path: events/getUsers
  request:
    form:
      id: testevent
  response:
    status: 200

- name: event delete returns 200
  endpoint:
    method: DELETE
    path: events/delete
  request:
    form:
      id: testevent
  response:
    status: 200
    body:
      message: 'Event Deleted!'

- name: event update after delete not found returns 404
  endpoint:
    method: POST
    path: events/update
  request:
    body:
      id: testevent
      ename: testUpdated
      capac: 7
      img: nope
      code: test
  response:
    status: 404
    body: "\"Event not found.\""

- name: invitecodes returns 200
  endpoint:
    method: POST
    path: inviteCodes/
  request:
    body:
